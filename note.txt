Do simultaneous equations of conservation of momentum and conservation of energy at the two collision points

Then do another simultaneous equation of angular and linear velocity